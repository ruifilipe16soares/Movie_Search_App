{"ast":null,"code":"import axios from 'axios';\nconst API_KEY = '422a42de'; // Coloca aqui a tua chave da OMDb\n\nexport const searchMovies = async query => {\n  const response = await axios.get(`http://www.omdbapi.com/?s=${query}&apikey=${API_KEY}`);\n  return response.data.Search || [];\n};\nexport const getMovieDetails = async id => {\n  const response = await axios.get(`http://www.omdbapi.com/?i=${id}&apikey=${API_KEY}`);\n  return response.data;\n};\nexport const addReview = async (movieId, rating, comment, token) => {\n  const response = await fetch('/api/reviews', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      movieId,\n      rating,\n      comment\n    })\n  });\n  return response.json();\n};\n\n// Obter todas as avaliações do filme\nexport const getReviews = async movieId => {\n  const response = await fetch(`/api/reviews/${movieId}`);\n  return response.json();\n};\n\n// Obter a média das avaliações\nexport const getAverageRating = async movieId => {\n  const response = await fetch(`/api/averageRating/${movieId}`);\n  return response.json();\n};\nexport const verifyToken = async token => {\n  try {\n    const response = await axios.get('/api/auth/verify', {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (err) {\n    console.error('Token verification failed', err);\n    return {\n      success: false\n    };\n  }\n};","map":{"version":3,"names":["axios","API_KEY","searchMovies","query","response","get","data","Search","getMovieDetails","id","addReview","movieId","rating","comment","token","fetch","method","headers","body","JSON","stringify","json","getReviews","getAverageRating","verifyToken","err","console","error","success"],"sources":["C:/Users/ruifi/OneDrive/Ambiente de Trabalho/movie_search/frontend/src/services/movieService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY = '422a42de'; // Coloca aqui a tua chave da OMDb\r\n\r\nexport const searchMovies = async (query) => {\r\n  const response = await axios.get(`http://www.omdbapi.com/?s=${query}&apikey=${API_KEY}`);\r\n  return response.data.Search || [];\r\n};\r\n\r\nexport const getMovieDetails = async (id) => {\r\n  const response = await axios.get(`http://www.omdbapi.com/?i=${id}&apikey=${API_KEY}`);\r\n  return response.data;\r\n};\r\n\r\nexport const addReview = async (movieId, rating, comment, token) => {\r\n  const response = await fetch('/api/reviews', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify({ movieId, rating, comment })\r\n  });\r\n  return response.json();\r\n};\r\n\r\n// Obter todas as avaliações do filme\r\nexport const getReviews = async (movieId) => {\r\n  const response = await fetch(`/api/reviews/${movieId}`);\r\n  return response.json();\r\n};\r\n\r\n// Obter a média das avaliações\r\nexport const getAverageRating = async (movieId) => {\r\n  const response = await fetch(`/api/averageRating/${movieId}`);\r\n  return response.json();\r\n};\r\n\r\nexport const verifyToken = async (token) => {\r\n  try {\r\n    const response = await axios.get('/api/auth/verify', {\r\n      headers: { 'Authorization': `Bearer ${token}` },\r\n    });\r\n    return response.data;\r\n  } catch (err) {\r\n    console.error('Token verification failed', err);\r\n    return { success: false };\r\n  }\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,UAAU,CAAC,CAAC;;AAE5B,OAAO,MAAMC,YAAY,GAAG,MAAOC,KAAK,IAAK;EAC3C,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAC,6BAA6BF,KAAK,WAAWF,OAAO,EAAE,CAAC;EACxF,OAAOG,QAAQ,CAACE,IAAI,CAACC,MAAM,IAAI,EAAE;AACnC,CAAC;AAED,OAAO,MAAMC,eAAe,GAAG,MAAOC,EAAE,IAAK;EAC3C,MAAML,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAC,6BAA6BI,EAAE,WAAWR,OAAO,EAAE,CAAC;EACrF,OAAOG,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMI,SAAS,GAAG,MAAAA,CAAOC,OAAO,EAAEC,MAAM,EAAEC,OAAO,EAAEC,KAAK,KAAK;EAClE,MAAMV,QAAQ,GAAG,MAAMW,KAAK,CAAC,cAAc,EAAE;IAC3CC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,UAAUH,KAAK;IAClC,CAAC;IACDI,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAET,OAAO;MAAEC,MAAM;MAAEC;IAAQ,CAAC;EACnD,CAAC,CAAC;EACF,OAAOT,QAAQ,CAACiB,IAAI,CAAC,CAAC;AACxB,CAAC;;AAED;AACA,OAAO,MAAMC,UAAU,GAAG,MAAOX,OAAO,IAAK;EAC3C,MAAMP,QAAQ,GAAG,MAAMW,KAAK,CAAC,gBAAgBJ,OAAO,EAAE,CAAC;EACvD,OAAOP,QAAQ,CAACiB,IAAI,CAAC,CAAC;AACxB,CAAC;;AAED;AACA,OAAO,MAAME,gBAAgB,GAAG,MAAOZ,OAAO,IAAK;EACjD,MAAMP,QAAQ,GAAG,MAAMW,KAAK,CAAC,sBAAsBJ,OAAO,EAAE,CAAC;EAC7D,OAAOP,QAAQ,CAACiB,IAAI,CAAC,CAAC;AACxB,CAAC;AAED,OAAO,MAAMG,WAAW,GAAG,MAAOV,KAAK,IAAK;EAC1C,IAAI;IACF,MAAMV,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAC,kBAAkB,EAAE;MACnDY,OAAO,EAAE;QAAE,eAAe,EAAE,UAAUH,KAAK;MAAG;IAChD,CAAC,CAAC;IACF,OAAOV,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOmB,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEF,GAAG,CAAC;IAC/C,OAAO;MAAEG,OAAO,EAAE;IAAM,CAAC;EAC3B;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}